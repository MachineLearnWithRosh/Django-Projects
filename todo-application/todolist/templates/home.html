{% extends 'base.html' %}

{% block title %} ToDo-App   {% endblock title %}
{% block css %} 
.striker{
    text-decoration: line-through;
} 
{% endblock %}

{% block body %}

<div class="container my-4">
    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-success alert-dismissible fade show" role="alert">
            <button type="button" class="close" data-dismiss="alert">
                <small><sup>x</sup></small>
            </button>
            {{ message }}
            </div>
        {% endfor %}
    {% endif %}

<table class="table table-hover table-light">
    <thead class="thead-dark">
    <tr>
      <th scope="col">Task Name</th>
      <th scope="col">Status</th>
      <th scope="col">Delete</th>
    </tr>
  </thead>
    <tbody>
{% if all_items %}
    
    {% for item in all_items %}

    {% if item.completed %}
     <tr class="table-secondary">
        <td class="striker"><a href="{% url 'edit' item.id %}">{{ item.item }}</a></td>
        <td><a href="{% url 'uncross' item.id %}">Completed</a></td>
        <td><a href="{% url 'delete' item.id %}">Delete</a></td>
     </tr>

    {% else %}
     <tr>
        <td><a href="{% url 'edit' item.id %}">{{ item.item }}</a></td>
        <td><a href="{% url 'cross_off' item.id %}">Uncompleted</a></td>
        <td><a href="{% url 'delete' item.id %}">Delete</a></td>
     </tr>
    {% endif %}
    {% endfor %}
    </tbody>
</table>

{% endif %}

</div>
{% endblock body %}